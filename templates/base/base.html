<!DOCTYPE html>
<!-- Loads internationalization, loads static and loads sass for compiling -->
{% load i18n %} {% load static %} {% load sass_tags %}
<!-- Gets the preloader for a background URL, necessary due to quotes -->
{% static 'images/preloader.gif' as PRELOADER %}
<!-- Gets current language -->
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{ LANGUAGE_CODE }}">
    {% block head %}

    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <!-- Windows app tile config -->
        <meta name="msapplication-config" content="{% static 'browserconfig.xml' %}" />
        <meta name="msapplication-TileColor" content="#2b384c" />
        <meta name="msapplication-TileImage" content="{% static 'favicons/ms-icon-144x144.png' %}" />
        <meta name="theme-color" content="#2b384c" />
        <!-- Web manifest files -->
        <link rel="manifest" href="{% static 'manifest.json' %}" />
        <!-- favicons generated with https://www.favicon-generator.org -->
        <link rel="icon" href="{% static 'favicons/favicon.ico' %}" />
        <link rel="icon" sizes="16x16" href="{% static 'favicons/favicon-16x16.png' %}" />
        <link rel="icon" sizes="32x32" href="{% static 'favicons/favicon-32x32.png' %}" />
        <link rel="icon" sizes="96x96" href="{% static 'favicons/favicon-96x96.png' %}" />
        <link rel="icon" sizes="192x192" href="{% static 'favicons//android-icon-192x192.png' %}" />
        <link rel="apple-touch-icon" href="{% static 'favicons/apple-icon.png' %}" />
        <link rel="apple-touch-icon-precomposed" href="{% static 'favicons/apple-icon-precomposed.png' %}" />
        <link rel="apple-touch-icon" sizes="57x57" href="{% static 'favicons/apple-icon-57x57.png' %}" />
        <link rel="apple-touch-icon" sizes="60x60" href="{% static 'favicons/apple-icon-60x60.png' %}" />
        <link rel="apple-touch-icon" sizes="72x72" href="{% static 'favicons/apple-icon-72x72.png' %}" />
        <link rel="apple-touch-icon" sizes="76x76" href="{% static 'favicons/apple-icon-76x76.png' %}" />
        <link rel="apple-touch-icon" sizes="114x114" href="{% static 'favicons/apple-icon-114x114.png' %}" />
        <link rel="apple-touch-icon" sizes="120x120" href="{% static 'favicons/apple-icon-120x120.png' %}" />
        <link rel="apple-touch-icon" sizes="144x144" href="{% static 'favicons/apple-icon-144x144.png' %}" />
        <link rel="apple-touch-icon" sizes="152x152" href="{% static 'favicons/apple-icon-152x152.png' %}" />
        <link rel="apple-touch-icon" sizes="180x180" href="{% static 'favicons/apple-icon-180x180.png' %}" />
        <link rel="stylesheet" type="text/css" href="{% sass_src 'css/main.scss' %}" />
        <!-- Jquery and Bootstrap 5 -->
        <script src="{% static 'js/jquery-3.5.1.min.js' %}"></script>
        <script src="{% static 'js/bootstrap/bootstrap.bundle.min.js' %}"></script>
        <!-- Open Graph details -->
        <meta property="og:locale" content="en_US" />
        <meta property="og:locale:alternate" content="it_IT" />
        <meta property="og:url" content="{{ request.build_absolute_uri }}" />
        <meta property="fb:app_id" content="324150155353018" />
        <meta property="og:type" content="{% block og_type %}{% endblock %}" />
        <meta property="og:title" content="{% block og_title %}{% endblock %}" />
        <meta property="og:description" content="{% block og_description %}{% endblock %}" />
        <meta property="og:image" content="{% block og_image %}{% endblock %}" />
        <meta property="og:image:type" content="{% block og_image_type %}{% endblock %}" />
        <meta property="og:image:width" content="{% block og_image_width %}{% endblock %}" />
        <meta property="og:image:height" content="{% block og_image_height %}{% endblock %}" />
        <meta property="og:image:alt" content="{% block og_image_alt %}{% endblock %}" />

        <title>
            Nuragic Shamanic Healing | {% block head_title %}{% endblock %}
        </title>
    </head>
    {% endblock %}

    <body class="bg-primary">
        <!-- preloader gif. Uses classes to center the logo on the viewport -->
        <div class="preloader justify-content-center align-items-center bg-primary">
            <div class="preload-gif" style="background-image: url('{{ PRELOADER }}')" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
        <!-- Background images positioned behind the main section
        They only show up beyond the xxl breakpoint -->
        <div class="z-n1 border-position fixed-top opacity-40 vh-100">
            <img src="{% static 'images/borders.png'%}" alt="border image"
                class="z-n2 left-border position-absolute h-100" />
            <img src="{% static 'images/borders.png'%}" alt="border image"
                class="z-n2 right-border position-absolute h-100" />
        </div>

        <!-- Header template -->
        {% include 'base/includes/header.html' %}

        <!-- Main content container -->
        <main class="main-mods min-vh-75 container-xxl shadow-lg bg-primary p-0">
            <!-- This hold the toasts notifications in position on the page.
        Can be changed with the toast-position class.-->
            <div class="toast-container position-fixed">
                {% if messages %}
                {% for message in messages %}
                {% include 'base/includes/messages.html' %}
                {% endfor %}
                {% endif %}
            </div>
            <!-- Main content container -->
            {% block content %}
            {% endblock %}
        </main>
        <!-- Footer -->
        {% include 'base/includes/footer.html' %}
        <!-- Script block -->
        {% block postloadjs %}
        <!-- Basic js files loaded -->
        <script src="{% static 'js/custom/base.js' %}"></script>
        <!-- shows toasts if there are messages -->
        {% if messages %}
        <script>
            showToast();
        </script>
        {% endif %}
        {% if 'shop' in request.path %}
        <script src="{% static 'js/custom/shop.js' %}"></script>
        <script>
            buttonToggle('{% include "base/includes/icons/bookmark-heart-fill.svg" %}',
                '{% include "base/includes/icons/bookmark-heart.svg" %}',
                '{% url "likes:likes-update" %}')
        </script>
        {% endif %}
        <script>
            // Runs the serviceWorker for the PWA
            if ("serviceWorker" in navigator) {
                navigator.serviceWorker.register('{% url "pwa:service-worker" %}', {
                    scope: "/",
                });
            }
        </script>
        {% endblock %}
    </body>

</html>
