{% load static %}
<!-- This is the standard template to display products in a feed.
It is used in many templates, stockdrop and category detail, the product_list homepage,
related items box, and likes_list.
It displays two ajax buttons for liking and adding to cart among other details that vary depending on
the product's characteristics, e.g. size, unique item, etc.. -->
<div class="col-12 col-md-3 p-0 p-md-3">
    <article class="card mx-0 mx-md-2 mt-3">
        <a href="#" class="position-relative">
            <img src="{{ product.image_4_3.url }}" class="card-img-top img-fluid" alt="{{ product.name }}" />
            <!-- These display little banners that give extra info about the item. -->
            {% if product.is_unique and product.stock > 0 %}
            <span class="product-alert p-font badge bg-success">Unique</span>
            {% elif not product.is_unique and product.stock < 10 %}
            <span class="product-alert p-font badge bg-warning">Low Stock</span>
            {% elif product.stock == 0 %}
            <span class="product-alert p-font badge bg-danger">Out of Stock</span>
            {% endif %}
        </a>
        <div class="row card-body mx-0 px-0 pt-1 pb-0">
            <!-- Displays product info, omitting description.
            DIsplays sizes if necessary. -->
            <a class="col-12 px-0" href="">
                <h5 class="card-text text-primary h-font mb-1 px-2">{{ product.title|truncatechars:25|upper }}</h5>
            </a>
            <p class="p-font col-12 text-primary mb-0 px-2">{{ product.description|truncatechars:200}}</p>
            <h5 class="p-font col-auto text-primary px-2">â‚¬{{ product.price }}</h5>
        </div>
    </article>
</div>
